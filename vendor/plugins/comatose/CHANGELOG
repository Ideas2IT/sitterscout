- version: 0.8.1
  changes:
    - All includes and helpers are loaded at the end of the ComatoseController and ComatoseAdminController classes
    - Fixed the ComatoseController#show action to correctly send an HTTP status of 404 even if it finds, and renders, a page at '/404'
    - Fixed the migration to default a page's full_path to '' instead of null
    - Formalized ComatoseDrops. Use Comatose.define_drop "drop_name", do ... end. Every method within that block should return a value for use with a Liquid and/or ERB template. Usage in a comatose page: {{ drop_name.def_name }}
    - Added support for a config.after_setup block that gets called after Comatose is setup (in the Dispatcher#to_prepare event)
    - Added HTML comment output for calls that result in a method_missing on the ProcessingContext
    - Updated page tree to remember collapsed/expanded nodes between page visits
    - Fixed some errors that were caused by null revisions (usually happened after initial installation)
    - Added my javascript test_runner lib for testing slugs generated by JavaScript. More JS tests to come.
    - Bugfix #8640 (rubyforge bug)

- version: 0.8
  changes:
    - Now ONLY supports Rails 1.2 (not even tested in Rails 1.1)
    - New configuration system
    - DEFER_COMATOSE_LOAD is gone -- Using Dispatcher.to_prepare replaces it
    - You no longer extend the base classes to add functionality. You configure Comatose to include modules and send it symbols for providing said functionality. e.g. Comatose.config.includes << :authentiation_system; Comatose.config.authorization = :require_login
    - The automatic loading of RAILS_ROOT/lib/comatose/*.rb files is NO longer supported. 
    - In addition to mapping comatose_root in your routes.rb, you'll want to map.comatose_admin as well

- version: 0.7.1
  changes:
    - A new DEFER_COMATOSE_LOAD flag is defined in the init.rb -- if you manually set it to `true`, you'll need to call Comatose.load in your environment.rb, but this should combat a lot of the plugin incompatiblities Coamtose has been suffering from
    - The revisions link on the edit page is now only shown if you have revisions

- version: 0.7
  changes:
    - Finally, page versioning via Rick Olsen's excellent acts_as_versioned! (included)
    - Tries to load any text filters, tags/drops, or extensions under RAILS_ROOT/lib/comatose/ (actually it just `require`'s every .rb file in that folder) so you no longer need to muck around with adding stuff in your environment.rb file
    - Previewing a page no longer updates it

- version: 0.6.9
  changes:
    - The page context now supports page.next, page.last, page.first_child, page.last_child

- version: 0.6.8
  changes:
    - Bugfix ComatoseController now references plugin_layout_path correctly from the class method
    - Some HTML/CSS/JS cleanup on the administration view -- should degrade to straight HTML pretty well now

- version: 0.6.7
  changes:
    - Removed Comatose::Page.record_timestamps = false -- it was breaking the magic. Override the record_timestamp methds instead
    - AdminController was still referencing, in a few places, ComatoseController for page cache expiration 

- version: 0.6.6
  changes:
    - The cache expiration code is now on the ComatoseAdminController, as it should have been in the first place
    - Changed internal references from root_paths or cms_root to mount_point, since that's what I've started calling them... And it seems to make the most sense
    - Cleaned up the class_options code
    - Added initial support for pre-caching pages (generating static HTML), there's not a UI element for it yet, however
    - Changes to content-type handling:
    - Removed Comatose::Options.force_utf8
    - Added Support for Comatose::Options.content_type = "utf-8" This will affect the HTTP headers, as well as the META tag in the admin views
    - Changed this log file to yaml format. And yes, there's a method to my madness... Wait for it.

- version: 0.6.5
  changes:
    - Fixed a bug in comatose_admin.js -- if you hid any of the meta_fields it would barf

- version: 0.6.4
  changes:
    - Fixed a typo in comatose_admin_customize.rhtml
    - Controller now keeps all information about mount points not just the :root (uri) and :index (page tree)

- version: 0.6.3
  changes:
    - Fixed the customization tasks
    - Added support for the new Routes system in Edge Rails
    - Removed the getting started guide -- it's now available at: http://comatose.rubyforge.org/getting-started-guide

- version: 0.6.2
  changes:
    - Fixed an issue with named_routes

- version: 0.6.1
  changes:
    - Fixed a migration issue

- version: 0.6
  changes:
    - Split out the admin from the ComatoseController into a new ComatoseAdminController class.
    - Moved controllers/model into Comatose module, now ComatoseController extends Comatose::Controller, and ComatoseAdminController extends Comatose::AdminController. And they extend your ApplicationController ComatoseController
    - Created a Comatose::Options class for configuration.
    - Add Liquid support to Text Processing -- made it the default processor.
    - Added support for adding 'tags' to processing context. They are Liquid Drops when using Liquid for processing, use like objects/methods when in ERB
    - Changed comatose.css, comatose.js, and app/views/comatose to comatose_admin.css, comatose_admin.js, and app/views/comatose_admin
    - Changed the names of some of the internals... ComatoseBinding is now Comatose::ProcessingContext, ComatosePageWrapper is Comatose::PageWrapper
    - Bugfix: PostgreSQL need the scope to be a symbol instead of a string, eh? Fine -- it is so. (Thanks to Lyle for the fix)
    - Added support for named routes... Anytime you use map.comatose_*, if * isn't 'root', it will use it as a named route

- version: 0.5
  changes:
    - Added support for parameterized inline rendering of comatose pages. Uselike a partial: render :comatose=>'path', :locals=>{:username=>'stuff'} the locals hash will be sent to the ERB context for use when rendering the page.
    - Support for a Hash ERB context exists all the way down to the TextFilters.
    - Initial support for fragment caching for inline rendering. It's turned off by default. Send :use_cache=>true in the render :comatose=>'' tag to use it.  Caching will also not be used if you are sending the page parameters via the :locals hash. Oh, and don't forget to set your ActionController::Base.fragment_cache_store
    - Return reloadable? false for the ComatoseController by default... This should prevent the development mode hassles people have been having.
    - Updated data migration tasks to better support nested pages.
    - comatose:data:export FROM=page_path TO_FILE=file_path
    - comatose:data:import TO=page_path FROM_FILE=file_path
    - FROM_FILE and TO_FILE default to 'db/comatose-pages.yml'
    - FROM and TO default to '', the page tree root
    - Fixed 'Clear Page Cache' bug -- it didn't handle the page root being an array like it should have.
    - Removed :page_title and :page_keywords from session
    - Updated the rails_version in the about.yml to 1.1+ -- just because I haven't tested it on anything less than that. If you have, and it works, let me know!
    - Adds the utf8 header to all output (text/html; charset=utf-8). Use ComatoseController.force_utf8 = false to disable.
    - Initial support for page reordering (via AJAX)
    - Updated the administration look-n-feel.

- version: 0.4
  changes:
    - Added keywords field
    - Abstracted text filters into a micro plugin structure, default support for Textile, Markdown, and RDoc
    - It will only show the filters as a choice in the admin if you have the necessary libraries for the filters to function.
    - Added ComatoseController.hidden_meta_fields = [] as a way of showing/hiding the meta fields
    - The comatose_migration generator now accepts an --upgrade flag which will create a micro migration that only has the new fields in it
    - get_root_page will now support returning an array of root pages to show in the admin page list
    - Created some initial tests... (Can you tell I'm not a test _first_ guy?)
    - Inline rendering now handles :silent flag -- it will just return and empty string if :silent=>true
    - Modified all the internal references to ComatoseController to self.class.The views reference controller.class. Redirects redirect to :controller=>self.controller_name or controller.controller_name (action and view respectively). This show allow you to sub-class the ComatoseController.

- version: 0.3.1
  changes:
    - Abstracted retrieval of root comatose page to allow multi-user/limited view support
    - Added redcloth so there are now no external dependencies... Other than Rails, of course ;-)
    - DRYed up the folder structure a bit
    - Added a Rakefile
    - Made this ChangeLog more human-readable

- version: 0.3
  changes:
    - Added support for running entirely from the plugin
    - Added support for hierarchal pages
    - Pages are pre-filtered by ERB, therefor ERB can generate Textile
    - Comatose binding object
    - Used with ERB context to protect AR model
    - Has a few helper methods too: link, include
    - Migration updated
    - rendered_body removed, not much sense with ERB pre-processing and page-caching
    - full_path added for easy access to child pages
    - position, and author fields for future use
    - Administration Updates
    - Page listing is now a collapsible tree view
    - Page edit supports previewing the content
    - Preview textile only for new pages, full ERB previews for existing pages
    - ERB errors show up as AR errors
    - Shows Title and Body fields by default, clicking 'more...' makes Slug and Parent visible
    - CSS updates to lighten it up a bit

- version: 0.2
  changes:
    - Added support for rendering pages inline
    - Added support for expiring entire page cache
    - Added support for properly expiring pages when they are modified or deleted
    - Update stylesheets, generally made it usable
    - Fixed #new action
    - Minor tweaks

- version: 0.1
  changes:
    - First mostly-working version
